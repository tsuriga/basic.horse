<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>The Keys | allformsofpandas.com</title>
        <script src="../../vendor/phaser.min.js"></script>
    </head>
    <body>

    <script type="text/javascript">

    var p1;

    window.onload = function() {
        var game = new Phaser.Game(320, 200, Phaser.AUTO, '', { preload: preload, create: create, update: update });

        function preload () {
            game.load.image('b1', 'b1.png');
            game.load.image('p1', 'p1.png');
        }

        function create () {
            var b1 = game.add.sprite(game.world.centerX, game.world.centerY, 'b1');
            b1.anchor.setTo(0.5, 0.5);

            p1 = game.add.sprite(game.world.centerX, game.world.centerY, 'p1');
            p1.anchor.setTo(0.5, 0.8);
            game.physics.enable(p1, Phaser.Physics.ARCADE);
        }

        function update() {

            if (game.input.mousePointer.isDown) {
                var position = game.input.mousePointer.position;
                game.physics.arcade.moveToPointer(p1, 120);
            }

            if (Phaser.Rectangle.contains(p1.body, game.input.x, game.input.y))
            {
                p1.body.velocity.setTo(0, 0);
            }
        }
    };
    </script>

    </body>
</html>